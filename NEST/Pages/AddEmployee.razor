@page "/addemployee"
<h3>AddEmployee</h3>
<a class="btn btn-primary" href="/employee">Go Back</a>
<div class="">

    <EditForm Model="_EmployeeModel" OnSubmit="SaveEmployee">
        <div class="form-group">
            <label for="exampleInputEmail1">Name</label>
            <input type="text" class="form-control" id="exampleInput" placeholder="Enter Name " @bind="_EmployeeModel!.Name">

        </div>
        <div class="form-group">
            <label for="exampleInputEmail1">Father Name</label>
            <input type="text" class="form-control" id="exampleInput" placeholder="Enter FatherName" @bind="_EmployeeModel.FatherName">

        </div>
        <div class="form-group">
            <label for="exampleInputEmail1">DOB</label>
            <InputText type="date" class="form-control" id="exampleInput" placeholder="Enter DOB" @bind-Value="_EmployeeModel.DOB" />

        </div>
        <div class="form-group">
            <label for="exampleInputEmail1">Email</label>
            <input type="email" class="form-control" id="exampleInput" placeholder="Enter Email" @bind="_EmployeeModel.Email">

        </div>
        <div class="form-group">
            <label for="exampleInputEmail1">Phone Number</label>
            <input type="number" class="form-control" id="exampleInput" placeholder="Enter PhoneNo" @bind="_EmployeeModel.PhoneNo">

        </div>
        <div class="form-group">
            <label for="exampleInputEmail1">CNIC</label>
            <input type="number" class="form-control" id="exampleInput" placeholder="Enter CNIC" @bind="_EmployeeModel.CNIC">

        </div>
        <div class="form-group">
            <label for="exampleInputEmail1">Designation</label>
            <input type="text" class="form-control" id="exampleInput" placeholder="Enter Designation" @bind="_EmployeeModel.Designation">

        </div>
        <button type="submit" class="btn btn-primary">Submit</button>
    </EditForm>
</div>

@code {
    protected EntEmployee? _EmployeeModel { get; set; } = new EntEmployee();
    protected async Task SaveEmployee()
    {
        SqlParameter[] sp =
        {
            new SqlParameter("@Name",_EmployeeModel!.Name),
            new SqlParameter("@FatherName", _EmployeeModel.FatherName),
            new SqlParameter("@DOB", _EmployeeModel.DOB),
            new SqlParameter("@CNIC", _EmployeeModel.CNIC),
            new SqlParameter("@Designation", _EmployeeModel.Designation),
            new SqlParameter("@Email", _EmployeeModel.Email),
            new SqlParameter("@PhoneNo", _EmployeeModel.PhoneNo)
    };
        await DALCRUD.CRUD("SP_SaveEmployee", sp);
        nm.NavigateTo("/employee");
    }

}
